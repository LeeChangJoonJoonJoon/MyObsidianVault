

2023-05-08

----
#Cpp #CS #메모리 #ChatGPT #지선생 

## 개요
앞서 람다 함수에 대해 논하면서, 이것의 구성요소인 `[]`에 대해 잠시 언급했다.
이것을 어떻게 쓰는지는 알겠으나, 왜 쓰는지는 모르고 있다.
즉, [[람다 함수]]에서 언급한, "모든 변수, 상수를 매개변수로 전달할 수도 없고, STL에서 사용할 때는 매개변수 제약이 있을 수 있"는 상황이 도대체 어떤 상황인지 알 필요가 있다.

## 내용
지선생에게 캡쳐에 대해 설명해 달라고 했다.
여기서는 캡쳐가 쓰이는 람다함수에 대한 일반적인 설명을 하고 있다.
![[스크린샷 2023-05-09 오전 7.47.27.png]]

캡쳐는 캡쳐될 시점의 변수의 값을 저장하는 것인가? 아니면 그냥 변수를 참조한다는 의미인가?
아직은 감이 안잡힌다.

여러 예제를 통해 캡쳐가 어떻게 쓰일 수 있는지 살펴보자.
![[스크린샷 2023-05-09 오전 7.50.21.png]]

그냥 `x`를 캡쳐했을 때와 `x&`를 캡쳐했을 때의 차이를 보여주려고 하는 듯 하다.
전자의 경우 'current value'가 람다식 내에 반영된다.
후자의 경우, 
> the variable `x` is captured by reference, so any changes made to `x` outside the lambda function will be reflected inside the lambda function. When the lambda function is called, it will print "Value of x is 10" because it has access to the current value of `x`.
> 출처: ChatGPT

그리고 우리가 [[람다 함수]]에서 본 바, 다음과 같은 경우가 있다.
![[스크린샷 2023-05-09 오전 8.01.13.png]]

즉, 람다식 내 모든 변수가 참조로서 캡쳐된다는 의미이다.
`x`, `y` 모두 참조의 방식으로 캡쳐되는 것이다.

그럼 다음의 경우는 어떻게 해석해야 하는가?
![[스크린샷 2023-05-09 오전 8.03.52.png]]

이 경우 캡쳐는 `[]` 안에 명시한 변수에 대해서만 적용된다.